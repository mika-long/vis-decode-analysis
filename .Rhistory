library(tidyverse)
library(ggplot2)
library(sgt)
library(numDeriv)
df <- read.csv("vis-decode-slider_all_tidy.csv") %>% as_tibble(.)
df %>% count(participantId)
df %>% count(participantId) %>% filter(n == 492)
df %>% count(participantId) %>% filter(n == 492) %>% pull(participantId)
df %>% count(participantId) %>% filter(n == 492) %>% pull(participantId) -> ids
ids
df %>% filter(participantId %in% ids)
df %>% filter(participantId %in% ids) %>%
filter(grepl("task", trialId) & grepl("test", trialId) ) # %>%
df %>% filter(participantId %in% ids) %>%
filter(grepl("task", trialId) & grepl("test", trialId) ) %>%
select(participantId, trialId, responseId, answer) %>%
mutate(answer = as.numeric(answer)) # %>%
df %>% filter(participantId %in% ids) %>%
filter(grepl("task", trialId) & grepl("test", trialId) ) %>%
select(participantId, trialId, responseId, answer) %>%
mutate(answer = as.numeric(answer)) %>%
pivot_wider(names_from = responseId, values_from = answer, names_repair = "universal") # %>%
df %>% filter(participantId %in% ids) %>%
filter(grepl("task", trialId) & grepl("test", trialId) ) %>%
select(participantId, trialId, responseId, answer) %>%
mutate(answer = as.numeric(answer)) %>%
pivot_wider(names_from = responseId, values_from = answer, names_repair = "universal") -> task_df # %>%
# separate_wider_delim(trialId, delim="_", names = c("TaskType", "type", "id")) %>%
# select(-type, -pixel.x, -pixel.y) -> task_df
task_df
task_df
task_df %>% filter(grepl("task1", trialId))
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(median.x = qsgt(0.5, param.mu, param.sigma, param.lambda, param.p, param.q),
median.y = dsgt(median.x, param.mu, param.sigma, param.lambda, param.p, param.q)) %>%
select(participantId, TaskType, id, location.x, location.y, median.x, median.y)
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(median.x = qsgt(0.5, param.mu, param.sigma, param.lambda, param.p, param.q),
median.y = dsgt(median.x, param.mu, param.sigma, param.lambda, param.p, param.q)) %>%
select(participantId, location.x, location.y, median.x, median.y)
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(left_area = psgt(location.x, param.mu, param.sigma,
param.lambda, param.p, param.q))
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(left_area = psgt(location.x, param.mu, param.sigma,
param.lambda, param.p, param.q)) %>%
select(param.lambda, left_area)
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(left_area = psgt(location.x, param.mu, param.sigma,
param.lambda, param.p, param.q)) %>%
select(param.lambda, left_area) %>%
ggplot(aes(x = param.lambda, y = left_area)) +
geom_point() +
theme_minimal()
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(left_area = psgt(location.x, param.mu, param.sigma,
param.lambda, param.p, param.q)) %>%
select(param.lambda, left_area) %>%
ggplot(aes(x = param.lambda, y = left_area)) +
geom_point(alpha = 0.8) +
theme_minimal()
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(left_area = psgt(location.x, param.mu, param.sigma,
param.lambda, param.p, param.q)) %>%
select(param.lambda, left_area) %>%
ggplot(aes(x = param.lambda, y = left_area)) +
geom_point(alpha = 0.8) +
theme_minimal() + ylim(-1, 1)
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(left_area = psgt(location.x, param.mu, param.sigma,
param.lambda, param.p, param.q)) %>%
select(param.lambda, left_area) %>%
ggplot(aes(x = param.lambda, y = left_area)) +
geom_point(alpha = 0.8) +
theme_minimal() + xlim(-1, 1)
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(left_area = psgt(location.x, param.mu, param.sigma,
param.lambda, param.p, param.q)) %>%
select(param.lambda, left_area) %>%
ggplot(aes(x = param.lambda, y = left_area)) +
geom_point(alpha = 0.8) +
theme_minimal() + xlim(-1, 1) + ylim(0, 1)
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(left_area = psgt(location.x, param.mu, param.sigma,
param.lambda, param.p, param.q)) %>%
select(param.lambda, left_area) %>%
ggplot(aes(x = param.lambda, y = left_area)) +
geom_point(alpha = 0.5) +
theme_minimal() + xlim(-1, 1) + ylim(0, 1)
task_df %>% filter(grepl("task2", trialId)) # %>%
task_df %>% filter(grepl("task2", trialId)) %>%
mutate(answer.x = param.mu)
?dsgy
?dsgt
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(left_area = psgt(location.x, param.mu, param.sigma,
param.lambda, param.p, param.q, mean.cent=F)) %>%
select(param.lambda, left_area) %>%
ggplot(aes(x = param.lambda, y = left_area)) +
geom_point(alpha = 0.5) +
theme_minimal() + xlim(-1, 1) + ylim(0, 1)
task_df %>% filter(grepl("task1", trialId)) %>%
mutate(left_area = psgt(location.x, param.mu, param.sigma,
param.lambda, param.p, param.q, mean.cent=F)) %>%
select(param.lambda, left_area) %>%
ggplot(aes(x = param.lambda, y = left_area)) +
geom_point(alpha = 0.5) +
theme_minimal() + xlim(-1, 1) + ylim(0, 1) +
geom_hline(yintercept = 0.5, linetype="dashed", color="gray")
task_df %>% filter(TaskType == "task2") %>%
mutate(answer.x = param.mu,
answer.y = dsgt(answer.x, param.mu, param.sigma, param.lambda, param.p, param.q, mean.cent=F)) %>%
select(location.x, location.y, answer.x, answer.y)
task_df %>% filter(grepl("task2", trialId)) %>%
mutate(answer.x = param.mu,
answer.y = dsgt(x=param.mu, mu = param.mu, sigma=param.sigma,
lambda=param.lambda, p=param.p, q=param.q, mean.cent = F))
task_df %>% filter(grepl("task2", trialId)) %>%
mutate(answer.x = param.mu,
answer.y = dsgt(x=param.mu, mu = param.mu, sigma=param.sigma,
lambda=param.lambda, p=param.p, q=param.q, mean.cent = F)) %>%
select(participantId, location.x, location.y, answer.x, answer.y)
task_df %>% filter(grepl("task2", trialId)) %>%
mutate(answer.x = param.mu,
answer.y = dsgt(x=param.mu, mu = param.mu, sigma=param.sigma,
lambda=param.lambda, p=param.p, q=param.q, mean.cent = F)) %>%
select(participantId, location.x, location.y, answer.x, answer.y) %>%
mutate(x_diff = location.x - answer.x)
task_df %>% filter(grepl("task2", trialId)) %>%
mutate(answer.x = param.mu,
answer.y = dsgt(x=param.mu, mu = param.mu, sigma=param.sigma,
lambda=param.lambda, p=param.p, q=param.q, mean.cent = F)) %>%
select(participantId, location.x, location.y, answer.x, answer.y) %>%
mutate(x_diff = location.x - answer.x) %>%
ggplot(aes(x = x_diff)) + geom_density() + theme_minimal()
task_df %>% filter(grepl("task2", trialId)) %>%
mutate(answer.x = param.mu,
answer.y = dsgt(x=param.mu, mu = param.mu, sigma=param.sigma,
lambda=param.lambda, p=param.p, q=param.q, mean.cent = F)) %>%
select(participantId, location.x, location.y, answer.x, answer.y) %>%
mutate(y_diff = location.y - answer.y) %>%
ggplot(aes(x = y_diff)) + geom_density() + theme_minimal()
task_df %>% filter(grepl("task3", trialId))
task_df %>% filter(grepl("task3", trialId)) %>%
ggplot(aes(x = location.x, y = location.y, color=participantId)) +
geom_point() +
theme_minimal() +
geom_hline(yintercept = 0.5, linetype="dashed", color="gray")
task_df %>% filter(grepl("task3", trialId)) %>%
ggplot(aes(x = location.x, y = location.y)) +
geom_point() +
theme_minimal() +
geom_hline(yintercept = 0.5, linetype="dashed", color="gray")
task_df %>% filter(grepl("task3", trialId)) %>%
ggplot(aes(x = location.x, y = location.y)) +
geom_point() +
theme_minimal() +
geom_hline(yintercept = 0.5, linetype="dashed", color="gray") +
facet_grid(~particpantId)
task_df %>% filter(grepl("task3", trialId)) # %>%
ggplot(aes(x = location.x, y = location.y)) +
geom_point() +
theme_minimal() +
geom_hline(yintercept = 0.5, linetype="dashed", color="gray") +
facet_grid(~particpantId)
task_df %>% filter(grepl("task3", trialId)) # %>%
ggplot(aes(x = location.x, y = location.y)) +
geom_point() +
theme_minimal() +
geom_hline(yintercept = 0.5, linetype="dashed", color="gray") +
facet_wrap(~ participantId)
task_df %>% filter(grepl("task3", trialId)) %>%
ggplot(aes(x = location.x, y = location.y)) +
geom_point() +
theme_minimal() +
geom_hline(yintercept = 0.5, linetype="dashed", color="gray") +
facet_wrap(~ participantId)
task_df %>% filter(grepl("task3", trialId)) %>%
ggplot(aes(x = location.x, y = location.y)) +
geom_point() +
theme_minimal() +
geom_hline(yintercept = 0.5, linetype="dashed", color="gray") # +
# facet_wrap(~ participantId)
task_df %>% filter(grepl("task3", trialId)) %>%
ggplot(aes(x = location.x, y = param.mu)) +
geom_point() + theme_minimal() +
geom_abline(slope = 1, intercept = 0, linetype="dashed", color="gray") +
coord_equal()
task_df %>% filter(grepl("task3", trialId)) %>%
ggplot(aes(x = location.x, y = param.mu)) +
geom_point(alpha=0.8) + theme_minimal() +
geom_abline(slope = 1, intercept = 0, linetype="dashed", color="gray") +
coord_equal()
task_df %>% filter(grepl("task3", trialId)) %>%
ggplot(aes(x = location.x, y = param.mu)) +
geom_point(alpha=0.5) + theme_minimal() +
geom_abline(slope = 1, intercept = 0, linetype="dashed", color="gray") +
coord_equal()
df %>% filter(grepl("task5", trialId)) %>%
filter(grepl("test", trialId)) %>%
select(participantId, trialId, responseId, answer) %>%
mutate(answer = as.numeric(answer)) %>%
pivot_wider(names_from = responseId, values_from = answer, names_repair = "universal") %>%
separate_wider_delim(trialId, delim="_", names = c("TaskType", "type", "id")) %>%
select(-type) -> task_5
task_5
task_5 %>%
ggplot(aes(x = slider.x, y = location.x)) +
geom_point() +
theme_minimal() +
geom_abline(intercept = 0, slope = 1, color = "gray", linetype = "dashed") +
coord_equal()
task_5 %>%
ggplot(aes(x = slider.x, y = location.x)) +
geom_point(alpha=0.5) +
theme_minimal() +
geom_abline(intercept = 0, slope = 1, color = "gray", linetype = "dashed") +
coord_equal()
task_5 %>%
ggplot(aes(x = slider.y, y = location.y)) +
geom_point(alpha=0.5) +
theme_minimal() +
geom_abline(intercept = 0, slope = 1, color = "gray", linetype = "dashed") +
coord_equal()
